!function(a,b,c){b.control.set({name:"travellerAdd",par:"type/id/state",tem:["top_third","traveller"],fn:function(c){var d={name:"",number:"",lastNumber:"",sendPlace:"",enLastName:"",enName:"",birthday:"",sex:"1",national:"",phone:"",cardType:1,cardName:["","身份证","护照","军官证","港澳通行证","台胞证","回乡证"]};b.cache("traveler")&&(d=b.cache("traveler"),b.cache("traveler",null,!0));var e=[function(){return!1},function(){return JSON.stringify({b:d.name,d:d.cardType,e:d.number,f:d.phone})},function(){return JSON.stringify({b:d.name,d:d.cardType,e:d.number,m:d.lastNumber,l:d.sendPlace,k:d.enLastName,j:d.enName,o:d.birthday,c:d.sex,n:d.national,f:d.phone})},function(){return JSON.stringify({b:d.name,d:d.cardType,e:d.number,o:d.birthday,c:d.sex,f:d.phone})},function(){return JSON.stringify({b:d.name,d:d.cardType,e:d.number,m:d.lastNumber,l:d.sendPlace,k:d.enLastName,j:d.enName,o:d.birthday,n:d.national,f:d.phone})},function(){return JSON.stringify({b:d.name,d:d.cardType,e:d.number,o:d.birthday,c:d.sex,f:d.phone})},function(){return JSON.stringify({b:d.name,d:d.cardType,e:d.number,o:d.birthday,f:d.phone})}],f=_.template(c.tem[0])({left:"",center:"添加常用旅客",right:"保存"});a("#head").html(f);var g=_.template(c.tem[1])(d);a("#scroller").html(g),a("#scroller [D_type='input']").each(function(){var b=this;a(b).unbind("change").bind("change",function(){d[a(b).attr("D_key")]=a(b).val()})}),a("#scroller [D_type='radio']").each(function(){var b=this;a(b).find("[D_type='radioPoint']").unbind("tap").bind("tap",function(){d[a(b).attr("D_key")]=a(this).attr("D_value"),a(b).find("[D_type='radioPoint']").removeClass("hl"),a(this).addClass("hl")})}),a("#scroller #cardType").unbind("tap").bind("tap",function(){b.cache("traveler",d),window.location.hash="travelerCardType/"+c.type+"/"+c.id+"/"+c.state}),a(".top_third .leftButton").unbind("tap").bind("tap",function(){window.history.go(-1)}),a(".top_third .rightButton").unbind("tap").bind("tap",function(){b.api.at(function(a){b.api.run("traveler_add","at="+a+"&tp=0&jparam="+e[d.cardType](),function(){window.location.hash="usefulTraveler/"+c.type+"/"+c.id+"/"+c.state},function(a){JSON.stringify(a)})})});setTimeout(function(){myScroll.refresh()},200)}})}($,app,config);