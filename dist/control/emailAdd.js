!function(a,b,c){b.control.set({name:"emailAdd",par:"type/id/state",tem:["top_third","mail"],fn:function(c){var d={place:"",name:"",phone:"",province:"",city:"",area:"",detail:"",code:"",tel:""};b.cache("mail")&&(d=b.cache("mail"),b.cache("mail",null,!0));var e=_.template(c.tem[0])({left:"",center:"添加常用邮寄地址",right:"保存"});a("#head").html(e);var f=_.template(c.tem[1])(d);a("#scroller").html(f),a("#scroller #province").unbind("tap").bind("tap",function(){b.cache("mail",d),window.location.hash="searchProvince/"+c.type+"/"+c.id+"/"+c.state}),a("#scroller #city").unbind("tap").bind("tap",function(){b.cache("mail",d),c.type?window.location.hash="searchCity/"+c.type+"/"+c.id+"/"+c.state:window.location.hash="searchCity"}),a("#scroller #area").unbind("tap").bind("tap",function(){b.cache("mail",d),c.type?window.location.hash="searchArea/"+c.type+"/"+c.id+"/"+c.state:window.location.hash="searchArea"}),a("#scroller [D_type='input']").each(function(){var b=this;a(b).unbind("change").bind("change",function(){d[a(b).attr("D_key")]=a(b).val()})}),a(".top_third .leftButton").unbind("tap").bind("tap",function(){window.history.go(-1)}),a(".top_third .rightButton").unbind("tap").bind("tap",function(){return d.tel.split("-").length<2?(b.pop.on("alert",{text:"固话格式为“区号-电话号码”"}),!1):void b.api.at(function(a){b.api.run("email_add","at="+a+"&tp=0&jparam="+JSON.stringify({b:d.name,c:d.place,d:d.detail,e:d.code,f:d.phone,g:d.tel,i:d.province,j:d.city,k:d.area,h:1}),function(){c.type?window.location.hash="usefulEmail/"+c.type+"/"+c.id+"/"+c.state:window.location.hash="usefulEmail"},function(a){b.pop.on("alert",{text:JSON.stringify(a)})})})});setTimeout(function(){},200)}})}($,app,config);